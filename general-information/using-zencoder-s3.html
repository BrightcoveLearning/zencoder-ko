
---
title: S3 설명과 함께 Zencoder 사용: Zencoder는 Amazon S3 버킷에서 파일을 업로드하고 다운로드 할 수 있습니다. Zencoder가 파일을 다운로드하려면 모든 사람이 파일에 액세스할 수 있어야 하거나 Zencoder 액세스 권한을 부여하는 버킷 정책을 버킷에 추가하거나 버킷에 액세스하기 위해 계정에 자격 증명을 저장해야 합니다.
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

	<section class="bcls-section">
		<h2 id="Introduction">소개</h2>
		<p>Zencoder는 Amazon S3 버킷에서 파일을 업로드하고 다운로드 할 수 있습니다. Zencoder가 파일을 다운로드하려면 모든 사람이 파일에 액세스 할 수 있어야하거나 Zencoder 액세스 권한을 부여하는 버킷 정책을 버킷에 추가하거나 버킷에 액세스하기 위해 계정에 자격 증명을 저장해야합니다.</p>
		<aside class="bcls-aside bcls-aside--information">Zencoder는 Amazon AWS S3 버킷만 지원합니다. <strong>Amazon이 아닌 공급업체의 S3 호환 스토리지 버킷은 <em>아니</em> 지원됩니다.</strong></aside>
	</section>

  <section class="bcls-section">
    <h2 id="Use_credentials">자격 증명 사용</h2>

    <p>계정에<a href="/encoding-settings/general/encoding-settings-general-output-settings.html#credentials">자격 증명을</a>저장하면 계정을 사용하여 당사 대신 파일을 업로드할 수 있습니다. 이는 귀하의 계정이 파일의 소유자이며 모든 권한과 권한을 가짐을 의미합니다. 모든 업로드 및 다운로드의 기본값으로 자격 증명을 설정하거나 각 요청에서 자격 증명을 참조할 수 있지만, S3의 기본값으로 설정하면 모든 S3 업로드 및 다운로드에 사용됩니다. 일반적으로 이것은 문제가되지 않지만 나중에 타사의 버킷에 업로드하려는 경우 문제가 발생할 수 있습니다.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Use_a_bucket_policy">버킷 정책 사용</h2>

    <p>또 다른 옵션은 버킷의 모든 파일에 대한 권한을 설정할 수있는 버킷 정책을 사용하는 것입니다. 시작하려면<a href="http://aws.amazon.com/console/"> AWS 콘솔을 방문하십시오</a> . 화면 왼쪽에서 버킷을 선택한 다음 "속성"을 클릭합니다. 마지막 행에서 "버킷 정책 추가"를 클릭합니다. 아래에 버킷 정책을 함께 입력하여 버킷 정책 텍스트 상자에 복사합니다.</p>

    <p>권장되는 버킷 정책:</p>

    <pre class="line-numbers">
 <code class="language-json" translate="No">{
"Version": "2012-10-17",
"Id": "ZencoderBucketPolicy",
"Statement": [
  {
      "Sid": "Stmt1295042087538",
      "Effect": "Allow",
      "Principal": {
          "AWS": "arn:aws:iam::395540211253:root"
      },
      "Action": [
      "s3:GetObjectAcl",
      "s3:GetObject",
      "s3:PutObjectAcl",
      "s3:PutObject",
      "s3:ListMultipartUploadParts"
      ],
      "Resource": "arn:aws:s3:::MY-BUCKET/*"
  },
  {
      "Sid": "Stmt1295042087538",
      "Effect": "Allow",
      "Principal": {
          "AWS": "arn:aws:iam::395540211253:root"
      },
      "Action": [
      "s3:ListBucketMultipartUploads",
      "s3:GetBucketLocation"
      ],
      "Resource": "arn:aws:s3:::MY-BUCKET"
  }
]
}</code></pre>
    <aside class="bcls-aside bcls-aside--warning">이 정책을 사용하더라도 버킷이 퍼블릭 ACL을 차단하도록 설정되어 있으면 업로드가 실패합니다.
      <figure class="bcls-figure"><img class="bcls-image" alt="S3 ACL Permissions" src="/assets/images/general-information/acl-policy.png" />
        <figcaption class="bcls-caption--image">S3 ACL 권한</figcaption>
      </figure>
    </aside>
    <p>이 버킷 정책을 적용하기 전에<strong>한 번만 변경해야 합니다.</strong></p>

    <ol>
      <li>MY-BUCKET을 버킷 이름으로 바꿉니다. 버킷 내의 모든 파일에 정책을 적용하므로 줄 끝에 / *를 그대로 둡니다.</li>
      <li>선택적으로 Action 배열을 허용 할 작업으로 바꿉니다. Zencoder에 필요할 수있는 유효한 작업은 다음과 같습니다.
        <h4>개체 권한-위 예의 첫 번째 작업 배열</h4>

        <ul>
          <li><code translate="No">s3:PutObject</code> -Zencoder가 파일을 버킷에 업로드하도록 허용</li>
          <li><code translate="No">s3:GetObject</code> -Zencoder가 버킷에서 파일을 다운로드하도록 허용</li>
          <li><code translate="No">s3:GetObjectAcl</code> -Zencoder가 파일에 대한 ACL 권한을 얻도록 허용</li>
          <li><code translate="No">s3:PutObjectAcl</code> -Zencoder가 파일에 대한 다른 사용자의 ACL 권한을 설정하도록 허용</li>
          <li><code translate="No">s3:ListMultipartUploadParts</code> -Zencoder가 멀티 파트 파일의 어느 부분이 버킷에 업로드되었는지 나열하도록 허용</li>
        </ul>
        <h4>버킷 권한-위 예의 두 번째 작업 배열</h4>

        <ul>
          <li><code translate="No">s3:GetBucketLocation</code> -Zencoder가 버킷 (미국, EU, 아시아 등)의 위치를 가져 오도록 허용합니다.</li>
          <li><code translate="No">s3:ListBucketMultipartUploads</code> -Zencoder가 현재 버킷에서 발생하는 모든 멀티 파트 업로드를 볼 수 있도록 허용
            <p><code translate="No">ex:</code> Zencoder가 파일을 다운로드하고 업로드 할 수 있도록하려면 첫 번째 Action 배열을 다음으로 바꿉니다.</p>

            <pre class="line-numbers">
<code class="language-json" translate="No">["s3:PutObject", "s3:GetObject"]</code></pre>
          </li>
        </ul>
      </li>
    </ol>
    <p>정책에는 두 가지 설명이 있습니다. 첫 번째 문은 버킷 내의 키에 영향을 미치고 두 번째 부분은 버킷 자체에 영향을줍니다.</p>

    <p>나머지 정책은 그대로 둘 수 있으며 잘 작동합니다. Amazon 설명서에는 버킷 정책의<a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?UsingBucketPolicies.html">요소에 대한 자세한 정보가 포함되어 있습니다.</a></p>

    <p>Zencoder는 또한 저희가 생성 한 동영상 및 미리보기 이미지에 ACL 권한을 설정할 수 있습니다. 이 내용은<a href="/encoding-settings/sources-destinations/encoding-settings-s3-settings.html"> S3 API 문서에 설명되어</a>있습니다.</p>

    <p><strong>참고:</strong> 버킷 정책을 사용할 때는 항상 s3: //BUCKET/KEY 형식의 URL을 사용해야 Zencoder에서 S3 URL로 식별하고 요청에 적절하게 서명할 수 있습니다.</p>

    <p>고유한 버킷 정책을 구축하려는 경우<a href="http://awspolicygen.s3.amazonaws.com/policygen.html"> Amazon의 정책 생성기를 사용할 수</a>있습니다. 사용하다 <em>아우: 아우: 시암። 395540211253:루트</em> AWS 주체로서 Zencoder 액세스를 허용할 수 있습니다.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Specific_files">특정 파일</h2>

    <h3>특정 파일에 대한 권한 만 부여 할 수 있습니까?</h3>

    <p>당신은 확실히 할 수 있습니다. 버킷 정책 접근 방식은 일반적으로 더 쉽고 빠르지 만 모든 사람에게 적합하지는 않습니다. 그렇다면 Amazon AWS 계정에 권한을 부여할 수<code translate="No">aws@zencoder.com</code>있습니다.</p>

    <p>대신 정식 ID를 사용해야 하는 경우 를 사용할 수 있습니다<code translate="No">6c8583d84664a381db0c6af0e79b285ede571885fbe768e7ea50e5d3760597dd</code> .</p>
  </section>
  <section class="bcls-section">
    <h2>문제 해결</h2>

    <h3 id="Troubleshooting">여전히 허가가 거부되었습니다!</h3>

    <p>액세스가 거부되었거나 파일을 찾을 수없는 경우 S3는 "액세스 거부 됨"으로 응답합니다. S3 자격 증명 또는 버킷 정책을 올바르게 설정했지만 여전히 "액세스 거부"오류가 발생한다면 제출중인 URL을 다시 확인하십시오. 입력이 다음과<code translate="No">"s3://my-bucket/this+file+is+great.mp4"</code>같으면 실제로 원하는 것이 좋습니다. <code translate="No">"s3://my-bucket/this file is great.mp4"</code></p>

    <h3>EU 프랑크푸르트 지역을 사용할 때 오류가 발생합니다!</h3>

    <p>Zencoder와 함께 EU 프랑크푸르트 리전을 사용하려면 리전 이름이 포함 된 S3 URL을 생성해야합니다. 이렇게 하려면 다음과 같은 URL을 생성하기만 하면<code translate="No">"s3+eu-central-1://my-bucket/file.mp4"</code>됩니다.</p>
  </section>
</article>